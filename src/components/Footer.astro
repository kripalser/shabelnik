---
import { collections, pluralize } from "@utils";

const items = [
  ...collections.aids.all,
  ...collections.books.all,
  ...collections.magazines.all,
  ...collections.filmstrips.all,
];
---

<style lang="scss">
    footer {
        padding: 1rem;
        font-weight: 700;
        text-align: center;
        border: var(--width-divider) solid var(--color-divider);

        a {
            color: var(--color-accent);

            &:hover {
                text-decoration: underline;
            }
        }
    }
</style>

<footer>
    <div class="container">
        {/* Can't style dynamically generated elements: https://github.com/withastro/astro/issues/4380 */}
        <span set:html={`Всего на сайте ${pluralize(items.length, ['издание', 'издания', 'изданий'])}: ${pluralize(collections.books.all.length, ['книга', 'книги', 'книг'])}, ${pluralize(collections.magazines.all.length, ['журнал', 'журнала', 'журналов'])}, ${pluralize(collections.filmstrips.all.length, ['диафильм', 'диафильма', 'диафильмов'])} и ${pluralize(collections.aids.all.length, ['учебное пособие', 'учебных пособия', 'учебных пособий'])}.`}></span>
        <span>Чего-то не хватает? <a href="mailto:kripalser@ya.ru?subject=Знаю, что ещё проиллюстрировал Евгений Шабельник!">Напишите мне</a>.</span>
    </div>
</footer>
